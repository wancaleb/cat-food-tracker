# 🐱 貓咪飲食追蹤器

一個功能完整的貓咪飲食追蹤應用，支持多種食物混合餵食、實際攝取量記錄，以及 Google Drive 雲端同步功能。

## ✨ 主要功能

### 基本功能
- 📊 支援多種食物混合餵食記錄
- 🍽️ 實際攝取量計算和追蹤
- 📈 卡路里趨勢圖表顯示
- ✏️ 餐點記錄編輯和刪除
- 💾 本地數據儲存（localStorage）

### Google Drive 整合
- 🔐 **Google OAuth 登入/登出**
- ☁️ **自動/手動同步到 Google Drive**
- 📁 **專用應用資料夾管理**
- 🗂️ **文件選取器載入歷史數據**
- 🔄 **智能數據合併和衝突處理**

## 🚀 快速開始

### 1. 設置 Google API

1. 前往 [Google Cloud Console](https://console.cloud.google.com/)
2. 創建新專案或選擇現有專案
3. 啟用以下 API：
   - Google Drive API
   - Google Picker API
4. 設置 OAuth 同意畫面
5. 創建 OAuth 2.0 客戶端 ID 和 API 密鑰

**重要安全說明：**
- 僅使用客戶端 ID（不需要客戶端密鑰）
- 適當限制 API 密鑰的使用範圍
- 將您的網域添加到授權來源列表

### 2. 配置應用

應用已內建您的 Google API 配置，但建議您：

1. 檢查 HTML 中的 `GOOGLE_CONFIG` 設定
2. 確保您的網域在 Google Cloud Console 中已授權
3. 測試所有功能是否正常運作

## 📖 使用說明

### 基本使用

1. **添加餐點記錄**
   - 選擇食物種類和重量
   - 可添加多種食物混合
   - 輸入實際攝取量
   - 點擊「儲存這餐」

2. **查看歷史記錄**
   - 按日期分組顯示
   - 可編輯或刪除個別記錄
   - 卡路里趨勢圖表

### Google Drive 同步

1. **首次登入**
   - 點擊「使用 Google 登入」
   - 授權應用訪問您的 Google Drive
   - 系統會自動建立專用資料夾

2. **同步選項**
   - **手動同步**：點擊「保存到 Google Drive」
   - **自動同步**：啟用後每次修改都會自動同步
   - **載入數據**：使用「從 Google Drive 載入」選擇歷史文件

3. **數據合併**
   - 系統會自動偵測衝突
   - 提供選項：保留本地版本或使用雲端版本
   - 非衝突記錄會自動合併

## 🗂️ 檔案儲存格式

Google Drive 中的數據檔案格式：
```json
{
  "version": "1.0",
  "timestamp": "2025-06-21T10:30:00.000Z",
  "data": [...餐點記錄...],
  "metadata": {
    "totalMeals": 150,
    "dateRange": {
      "start": "2025-01-01",
      "end": "2025-06-21"
    }
  }
}
```

## 🔧 技術特色

- **純前端應用**：無需後端伺服器
- **響應式設計**：支援各種裝置
- **離線優先**：本地儲存確保離線可用
- **安全整合**：遵循 Google API 最佳實務
- **智能同步**：衝突偵測和解決機制

## 🛡️ 隱私與安全

- 所有數據儲存在您的 Google Drive 中
- 應用僅請求必要的檔案權限
- 不收集或傳輸個人資料到第三方
- 認證令牌安全儲存在本地

## 📱 瀏覽器支援

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- 行動裝置瀏覽器

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request！

## 📄 授權

MIT License
